server.port=${PORT:8080}

# ===============================
# Database
# ===============================
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/settlement_engine}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:kailasmac}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true


# ===============================
# Redis (Spring Boot 4)
# ===============================
spring.data.redis.host=${SPRING_DATA_REDIS_HOST:localhost}
spring.data.redis.port=${SPRING_DATA_REDIS_PORT:6379}

# ===============================
# Settlement outcome mode
# ===============================
# RANDOM (default), ALWAYS_SUCCESS, ALWAYS_FAIL
settlement.outcome.mode=${SETTLEMENT_OUTCOME_MODE:RANDOM}
# Optional seed used only when mode=RANDOM for repeatable behavior in test/dev.
settlement.outcome.random-seed=${SETTLEMENT_OUTCOME_RANDOM_SEED:}

# Trigger API idempotency key retention and replay behavior.
settlement.trigger.idempotency.ttl-seconds=${SETTLEMENT_TRIGGER_IDEMPOTENCY_TTL_SECONDS:600}
settlement.trigger.idempotency.wait-timeout-millis=${SETTLEMENT_TRIGGER_IDEMPOTENCY_WAIT_TIMEOUT_MILLIS:5000}
